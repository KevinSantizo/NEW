{"remainingRequest":"C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\src\\views\\Reservation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\src\\views\\Reservation.vue","mtime":1573588067687},{"path":"C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573429945893},{"path":"C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\node_modules\\babel-loader\\lib\\index.js","mtime":1573429941653},{"path":"C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1573429997719},{"path":"C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573429945893},{"path":"C:\\Users\\TETO PARKER\\Desktop\\KEV\\NEW\\App\\node_modules\\vue-loader\\lib\\index.js","mtime":1573429997170}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n    data () {\r\n       return {\r\n          fieldId: this.$route.params.fieldId,\r\n          field: [ ],\r\n          company: [],\r\n          implements: [ ],\r\n          schedules: [ ],\r\n          customers: [ ],\r\n          value: 200,\r\n          enabled: false,\r\n          months: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\r\n          dayss: ['Dom', 'Lun', 'Ma', 'Mie', 'Jue', 'Vie', 'Sab'],\r\n          form: {\r\n            schedule_date:'',\r\n            total:'',\r\n            schedule:'',\r\n            customer_reserve:'',\r\n            field_reserve:'',\r\n            implement:'',\r\n          },\r\n          times: [\r\n            '12:00 PM',\r\n            '1:00 PM',\r\n            '4:00 PM',\r\n            '6:00 PM',\r\n            '7:00 PM',\r\n            '8:00 PM',\r\n            '9:00 PM',\r\n            '10:00 PM',\r\n            '11:00 PM',\r\n          ],\r\n          days: [\r\n            'M',\r\n            'J',\r\n            'V',\r\n            'S',\r\n            'D'\r\n          ],\r\n          test: 0,\r\n          test2: 0\r\n          }\r\n    },\r\n    methods: {\r\n        getField() {\r\n        //const path = `http://192.168.88.222:8000/sport/field-schedule/${this.fieldId}/`   \r\n        const path = `http://192.168.1.109:8000/sport/field-schedule/${this.fieldId}/`   \r\n        axios.get(path).then((response) => {\r\n        this.field = response.data\r\n        console.log(this.field);           \r\n        //return axios.get('http://192.168.88.222:8000/sport/implements/')  \r\n        return axios.get('http://192.168.1.109:8000/sport/implements/')\r\n      }).then((response)=>{\r\n        this.implements = response.data\r\n        console.log(this.implements);\r\n        \r\n        return axios.get('http://192.168.1.109:8000/sport/count/')\r\n      }).then((response) => {\r\n        this.schedules = response.data\r\n        console.log(this.schedules);\r\n        \r\n        return axios.get('http://192.168.1.109:8000/user/do-customer/')\r\n      }).then((response)=>{\r\n        this.customers = response.data\r\n        console.log(this.customers);\r\n        \r\n      }).catch((error) => {\r\n          console.log(error);\r\n        })\r\n        },\r\n        checkbox(_chk_id, _txt_id){\r\n          let check = document.getElementById(_chk_id)\r\n          let elementNum = document.getElementById(_txt_id)\r\n          if(check.checked == true){\r\n                elementNum.disabled = false\r\n          }\r\n          else{\r\n            elementNum.disabled = true\r\n          }\r\n        },\r\n        onSubmit(evt){\r\n            event.preventDefault()\r\n            const path = 'http://192.168.1.109:8000/sport/do-reservation/'\r\n            //const path = 'http://192.168.88.222:8000/user/do-customer/'\r\n            axios.post(path, this.form).then((response) => {\r\n                this.form.schedule = response.data.schedule\r\n                this.form.total = response.data.total\r\n                this.form.schedule = response.data.schedule\r\n                this.form.customer_reserve = response.data.customer_reserve\r\n                this.form.field_reserve = response.data.field_reserve\r\n                this.form.implement = response.data.implement\r\n                swal(\"Reservación creada exitosamente\", \"\", \"success\")\r\n                this.$router.push({ name: 'home' })\r\n            }).catch((error) => {\r\n                swal(\"Reservación no creada\", \"\", \"error\")  \r\n            })\r\n        }\r\n    },\r\n    created(){\r\n      this.getField()\r\n    },\r\n\r\n}\r\n\r\n",{"version":3,"sources":["Reservation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Reservation.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-card class=\"overflow-hidden mx-auto back-ground\">\r\n    <v-app-bar extended prominent flat text  class=\"back-ground\" dark height=\"57\">\r\n      <v-layout row wrap>\r\n        <div class=\"my-2\">\r\n          <v-btn icon class=\"link\" v-bind:to=\" '/do_reserve/'+field.company.id+ '/reserve' \">\r\n            <v-icon color=\"white\" dark size=\"45\">mdi-chevron-left</v-icon>\r\n          </v-btn>\r\n        </div>\r\n        <v-row justify=\"center\" align=\"center\" >\r\n          <span class=\"font-weight-bold font\" >Reservar</span>\r\n        </v-row>\r\n        <v-flex xs12 md12>\r\n          <v-row justify=\"center\" align=\"center\">\r\n            <v-icon color=\"white\" size=\"25\">mdi-calendar</v-icon><v-divider inset vertical class=\"mx-1\"></v-divider><span class=\"font-weight-bold caption font\" > {{ this.dayss[new Date().getDay() ]}}, {{  this.months[new Date().getMonth()] }} - {{ new Date().getDate()}} | {{ new Date().getFullYear() }}</span>\r\n          </v-row>\r\n        </v-flex>\r\n      </v-layout>\r\n        <v-divider inset class=\"transparent\" vertical></v-divider>\r\n        <v-icon color=\"white\" size=\"35\" class=\"my-2\">mdi-soccer</v-icon>\r\n    </v-app-bar>\r\n  <v-sheet  id=\"scroll-area-1\"  class=\"overflow-y-auto\" style=\"border-radius: 25px 25px 0px 0px;\" max-height=\"620\">\r\n    <v-container class=\"bottom\" >\r\n      <form @submit=\"onSubmit\">\r\n        <v-hover>\r\n          <v-card :elevation=12 style=\"border-radius: 25px;\">\r\n            <v-card-title class=\"back-ground\">\r\n              <v-row justify=\"center\">\r\n                <span class=\"white--text title font\" v-if=\"field.type == 1\">Cancha {{ field.name }} de 5 Jugadores </span>\r\n                <span class=\"white--text title font\" v-else-if=\"field.type == 2\">Cancha {{ field.name }} de 7 Jugadores </span>\r\n                <span class=\"white--text title font\" v-else>Cancha {{ field.name }} de 11 Jugadores </span>\r\n              </v-row>\r\n            </v-card-title>\r\n          <v-card-text>\r\n            <span class=\"black--text font-weight-medium font\">{{field.company.name}} , {{field.company.town.name}}</span><br>\r\n          <v-row justify=\"center\">\r\n            <div class=\"form-group\" style=\"width: 50%;\">\r\n              <label for=\"customer\">Cliente</label>\r\n                    <select name=\"customer_reserve\"  class=\"form-control font\" v-model.trim=\"form.customer_reserve\" style=\"border: 1px solid #011427 !important;\" >\r\n                      <option  v-for=\"(customer, i)  in customers\" :key=\"i\" :id=\"customer.id\" :value=\"customer.id\" >{{customer.first_name}} {{customer.last_name}}</option>\r\n                    </select>\r\n                    <select  name=\"field_reserve\"  class=\"form-control font\" v-model.trim=\"form.field_reserve\" style=\"border: 1px solid #011427 !important;\" >\r\n                      <option :id=\"field.id\" :value=\"field.id\" >{{field.name}} {{field.price}}</option>\r\n                    </select>\r\n                    <!--<input type=\"text\" disabled name=\"field_reserve\" :value=\"field.id\" v-model.trim=\"form.field_reserve\" class=\"form-control\"  readonly>-->\r\n              </div>\r\n           </v-row>  \r\n          <v-hover >\r\n            <v-card max-width=\"100%\" height=100 color=\"back-ground\" >\r\n              <v-card-text>\r\n                <v-row justify=\"center\">\r\n                  <div class=\"subtitle-1 white--text font-weight-medium font\">Horarios</div>\r\n                </v-row>\r\n\r\n                <v-row justify=\"center\" align=\"center\"> \r\n                  <div class=\"form-group\" style=\"width: 50%;\">\r\n                    <select class=\"form-control transparent font\" name=\"schedule\" v-model.trim=\"form.schedule\" id=\"exampleFormControlSelect1\" style=\"border: 1px solid white !important;\" >\r\n                      <option value=\"\" disabled>Elija un horario</option>\r\n                      <option  v-for=\"(time, i)  in schedules\" :key=\"i\" :id=\"time.id\" :value=\"time.id\" v-if=\"time.field.id == field.id \" >{{ time.start_time }}</option>\r\n                    </select>\r\n                  </div>\r\n                </v-row> \r\n\r\n              <!--<v-chip-group column multiple active-class=\"lime accent-3 black--text\" >\r\n              <v-row justify=\"space-around\" class=\"ma-2\">\r\n              <v-chip small v-for=\"(time, i)  in schedules\" :key=\"i\" v-if=\"time.field.id == field.id \">\r\n              {{ time.start_time }}\r\n              </v-chip>\r\n              </v-row>\r\n              </v-chip-group>-->\r\n              </v-card-text>\r\n            </v-card>\r\n      </v-hover>\r\n      <v-divider></v-divider>\r\n      <div class=\"form-group\">\r\n        <label for=\"date\">Fecha:</label>\r\n          <input type=\"date\" name=\"schedule_date\" v-model.trim=\"form.schedule_date\" class=\"form-control\" id=\"date\" >\r\n        </div>                                    \r\n      <!--<span class=\"black--text font-weight-medium font\">Resto de la semana <span class=\"caption grey--text\" >(Próximamente)</span></span>\r\n      <v-slide-group show-arrows>\r\n      <v-slide-item\r\n      v-for=\"(day, i) in days\"\r\n      :key=\"i\"\r\n      v-slot:default=\"{ active, toggle }\"\r\n      >\r\n      <v-btn\r\n      disabled\r\n      small\r\n      class=\"mx-2 font\"\r\n      :input-value=\"active\"\r\n      active-class=\"lime accent-3 black--text\"\r\n      depressed\r\n      rounded\r\n      @click=\"toggle\"\r\n      >\r\n      {{ day }}\r\n      </v-btn>\r\n      </v-slide-item>\r\n      </v-slide-group> -->  \r\n        <v-divider class=\"ma-1\"></v-divider>                                 \r\n         <!--<div class=\" black--text font-weight-medium font\">Extras: <span class=\"ma-2 font \"  v-for=\"(implement, i) in this.implements\" :key=\"i\">{{ implement.name }} +Q{{ implement.price}}</span></div>        \r\n          <v-row v-for=\"(implem, i) in this.implements\" :key=\"i\"  class=\"my-3\">\r\n            <v-row   justify=\"center\">\r\n              <input type=\"checkbox\" class=\"chk pa-4 checkbox-label\" @click=\"checkbox('chk-'+implem.id, 'txt-'+implem.id)\" :id=\"'chk-'+implem.id\" :value=\"implem.name\" :v-model=\"implem.name\">\r\n                <v-avatar size=\"30\" class=\"ma-2\" style=\"right: 0em; bottom: 0.5em;\">\r\n                  <img :src=\"implem.image\" alt=\"implement\">\r\n                </v-avatar>\r\n              <input type=\"number\" input=\"test()\" style=\"border: 1px solid grey !important; width: 75px;\" class=\"form-control form-control-sm\" :id=\"'txt-'+implem.id\" disabled  min=0 max=50  placeholder=\"Cant.\">\r\n            </v-row>\r\n          </v-row>-->\r\n            <v-text-field ty :v-model=\"form.total\"  name=\"total\" :value=\"field.price\"></v-text-field>\r\n        <span>Total: {{ field.price }}</span>\r\n      </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n            <v-btn color=\"red accent-4\"  class=\"link\" outlineded text  router to='/home'>Cancelar</v-btn>\r\n            <v-btn type=\"submit\" color=\"light-green accent-4\" outlined>Guardar</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n      </v-hover>\r\n      </form>\r\n    </v-container>\r\n    </v-sheet>\r\n  </v-card>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n    data () {\r\n       return {\r\n          fieldId: this.$route.params.fieldId,\r\n          field: [ ],\r\n          company: [],\r\n          implements: [ ],\r\n          schedules: [ ],\r\n          customers: [ ],\r\n          value: 200,\r\n          enabled: false,\r\n          months: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\r\n          dayss: ['Dom', 'Lun', 'Ma', 'Mie', 'Jue', 'Vie', 'Sab'],\r\n          form: {\r\n            schedule_date:'',\r\n            total:'',\r\n            schedule:'',\r\n            customer_reserve:'',\r\n            field_reserve:'',\r\n            implement:'',\r\n          },\r\n          times: [\r\n            '12:00 PM',\r\n            '1:00 PM',\r\n            '4:00 PM',\r\n            '6:00 PM',\r\n            '7:00 PM',\r\n            '8:00 PM',\r\n            '9:00 PM',\r\n            '10:00 PM',\r\n            '11:00 PM',\r\n          ],\r\n          days: [\r\n            'M',\r\n            'J',\r\n            'V',\r\n            'S',\r\n            'D'\r\n          ],\r\n          test: 0,\r\n          test2: 0\r\n          }\r\n    },\r\n    methods: {\r\n        getField() {\r\n        //const path = `http://192.168.88.222:8000/sport/field-schedule/${this.fieldId}/`   \r\n        const path = `http://192.168.1.109:8000/sport/field-schedule/${this.fieldId}/`   \r\n        axios.get(path).then((response) => {\r\n        this.field = response.data\r\n        console.log(this.field);           \r\n        //return axios.get('http://192.168.88.222:8000/sport/implements/')  \r\n        return axios.get('http://192.168.1.109:8000/sport/implements/')\r\n      }).then((response)=>{\r\n        this.implements = response.data\r\n        console.log(this.implements);\r\n        \r\n        return axios.get('http://192.168.1.109:8000/sport/count/')\r\n      }).then((response) => {\r\n        this.schedules = response.data\r\n        console.log(this.schedules);\r\n        \r\n        return axios.get('http://192.168.1.109:8000/user/do-customer/')\r\n      }).then((response)=>{\r\n        this.customers = response.data\r\n        console.log(this.customers);\r\n        \r\n      }).catch((error) => {\r\n          console.log(error);\r\n        })\r\n        },\r\n        checkbox(_chk_id, _txt_id){\r\n          let check = document.getElementById(_chk_id)\r\n          let elementNum = document.getElementById(_txt_id)\r\n          if(check.checked == true){\r\n                elementNum.disabled = false\r\n          }\r\n          else{\r\n            elementNum.disabled = true\r\n          }\r\n        },\r\n        onSubmit(evt){\r\n            event.preventDefault()\r\n            const path = 'http://192.168.1.109:8000/sport/do-reservation/'\r\n            //const path = 'http://192.168.88.222:8000/user/do-customer/'\r\n            axios.post(path, this.form).then((response) => {\r\n                this.form.schedule = response.data.schedule\r\n                this.form.total = response.data.total\r\n                this.form.schedule = response.data.schedule\r\n                this.form.customer_reserve = response.data.customer_reserve\r\n                this.form.field_reserve = response.data.field_reserve\r\n                this.form.implement = response.data.implement\r\n                swal(\"Reservación creada exitosamente\", \"\", \"success\")\r\n                this.$router.push({ name: 'home' })\r\n            }).catch((error) => {\r\n                swal(\"Reservación no creada\", \"\", \"error\")  \r\n            })\r\n        }\r\n    },\r\n    created(){\r\n      this.getField()\r\n    },\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900');\r\n@import url('https://fonts.googleapis.com/css?family=Ubuntu&display=swap');\r\n  .font {\r\n     font-family: 'Ubuntu', sans-serif;\r\n   }\r\n  \r\n   .link {\r\n     text-decoration: none;\r\n   }\r\n   .heart {\r\n     position: absolute;\r\n     margin-left: 13.7em;\r\n     margin-top:  0.2em;\r\n   }\r\n   .bottom {\r\n     margin-bottom:  50px;\r\n   }\r\n .back-ground {\r\n    background-color: #011427;\r\n }\r\n</style>"]}]}